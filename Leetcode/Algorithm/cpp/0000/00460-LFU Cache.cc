#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <map>
#include <list>
#include <cassert>

using namespace std;

class LFUCache {
    struct CacheNode {
        int key;
        int value;
        int freq;
    };
public:
    LFUCache(int capacity_) {
        capacity = capacity_;
    }
    
    int get(int key) {
        if (capacity == 0) {
            return -1;
        }
        if (mp.count(key) == 0) {
            return -1;
        }
        add_freq(key);
        //cout << "[get]: " << mp[key]->value << endl;
        return mp[key]->value;
    }
    
    void set(int key, int value) {
        if (capacity == 0) {
            return;
        }
        if (mp.count(key) == 0) {
            remove_one();
            if (fq.count(1) == 0) {
                fq[1] = list<CacheNode>();
            }
            fq[1].push_front({key, value, 1});
            assert(!fq[1].empty());
            auto iter = fq[1].begin();
            mp[key] = iter;
        } else {
            auto iter = mp[key];
            int freq = iter->freq;
            auto& l = fq[freq];
            assert(!l.empty());
            l.erase(iter);
            l.push_front({key, value, freq});
            mp[key] = l.begin();
        }
    }
private:
    void remove_one() {
        if (mp.size() < capacity) {
            return;
        }
        int least_freq = fq.begin()->first;
        assert(fq.find(least_freq) != fq.end());
        auto& l = fq[least_freq];
        assert(!l.empty());
        auto iter = --l.end();
        int key = iter->key;
        //cout << "remove " << least_freq << ' ' << iter->value << endl;
        l.erase(iter);
        if (l.empty()) {
            fq.erase(fq.find(least_freq));
        }
        mp.erase(mp.find(key));
    }
    
    void add_freq(int key) {
        //cout << "add_freq " << key << endl;
        auto iter = mp[key];
        int freq = iter->freq;
        auto& l = fq[freq];
        assert(!l.empty());
        auto node = *iter;
        l.erase(iter);
        //cout << "len l: " << l.size() << endl;
        if (l.empty()) {
            fq.erase(fq.find(freq));
        }
        
        node.freq++;
        if (fq.count(freq + 1) == 0) {
            fq[freq + 1] = list<CacheNode>();
        }
        
        fq[freq + 1].push_front(node);
        mp[key] = fq[freq + 1].begin();
    }
private:
    map<int, list<CacheNode>::iterator> mp;
    map<int, list<CacheNode> > fq;
    int capacity;
};

int main() {
    auto C = LFUCache(105);
;C.set(3,280)
;C.set(3,141)
;C.set(3,193);
return 0;
;C.set(133,193)
;C.set(60,183)
;C.set(128,148)
;C.set(52,176)
;C.get(48)
;C.set(48,119)
;C.set(10,241)
;C.get(124)
;C.set(130,127)
;C.get(61)
;C.set(124,27)
;C.get(94)
;C.set(29,304)
;C.set(102,314)
;C.get(110)
;C.set(23,49)
;C.set(134,12)
;C.set(55,90)
;C.get(14)
;C.get(104)
;C.set(77,165)
;C.set(60,160)
;C.get(117)
;C.set(58,30)
;C.get(54)
;C.get(136)
;C.get(128)
;C.get(131)
;C.set(48,114)
;C.get(136)
;C.set(46,51)
;C.set(129,291)
;C.set(96,207)
;C.get(131)
;C.set(89,153)
;C.set(120,154)
;C.get(111)
;C.get(47)
;C.get(5)
;C.set(114,157)
;C.set(57,82)
;C.set(113,106)
;C.set(74,208)
;C.get(56)
;C.get(59)
;C.get(100)
;C.get(132)
;C.set(127,202)
;C.get(75)
;C.set(102,147)
;C.get(37)
;C.set(53,79)
;C.set(119,220)
;C.get(47)
;C.get(101)
;C.get(89)
;C.get(20)
;C.get(93)
;C.get(7)
;C.set(48,109)
;C.set(71,146)
;C.get(43)
;C.get(122)
;C.set(3,160)
;C.get(17)
;C.set(80,22)
;C.set(80,272)
;C.get(75)
;C.get(117)
;C.set(76,204)
;C.set(74,141)
;C.set(107,93)
;C.set(34,280)
;C.set(31,94)
;C.get(132)
;C.set(71,258)
;C.get(61)
;C.get(60)
;C.set(69,272)
;C.get(46)
;C.set(42,264)
;C.set(87,126)
;C.set(107,236)
;C.set(131,218)
;C.get(79)
;C.set(41,71)
;C.set(94,111)
;C.set(19,124)
;C.set(52,70)
;C.get(131)
;C.get(103)
;C.get(81)
;C.get(126)
;C.set(61,279)
;C.set(37,100)
;C.get(95)
;C.get(54)
;C.set(59,136)
;C.set(101,219)
;C.set(15,248)
;C.set(37,91)
;C.set(11,174)
;C.set(99,65)
;C.set(105,249)
;C.get(85)
;C.set(108,287)
;C.set(96,4)
;C.get(70)
;C.get(24)
;C.set(52,206)
;C.set(59,306)
;C.set(18,296)
;C.set(79,95)
;C.set(50,131)
;C.set(3,161)
;C.set(2,229)
;C.set(39,183)
;C.set(90,225)
;C.set(75,23)
;C.set(136,280)
;C.get(119)
;C.set(81,272)
;C.get(106)
;C.get(106)
;C.get(70)
;C.set(73,60)
;C.set(19,250)
;C.set(82,291)
;C.set(117,53)
;C.set(16,176)
;C.get(40)
;C.set(7,70)
;C.set(135,212)
;C.get(59)
;C.set(81,201)
;C.set(75,305)
;C.get(101)
;C.set(8,250)
;C.get(38)
;C.set(28,220)
;C.get(21)
;C.set(105,266)
;C.get(105)
;C.get(85)
;C.get(55)
;C.get(6)
;C.set(78,83)
;C.get(126)
;C.get(102)
;C.get(66)
;C.set(61,42)
;C.set(127,35)
;C.set(117,105)
;C.get(128)
;C.get(102)
;C.get(50)
;C.set(24,133)
;C.set(40,178)
;C.set(78,157)
;C.set(71,22)
;C.get(25)
;C.get(82)
;C.get(129)
;C.set(126,12)
;C.get(45)
;C.get(40)
;C.get(86)
;C.get(100)
;C.set(30,110)
;C.get(49)
;C.set(47,185)
;C.set(123,101)
;C.get(102)
;C.get(5)
;C.set(40,267)
;C.set(48,155)
;C.get(108)
;C.get(45)
;C.set(14,182)
;C.set(20,117)
;C.set(43,124)
;C.get(38)
;C.set(77,158)
;C.get(111)
;C.get(39)
;C.set(69,126)
;C.set(113,199)
;C.set(21,216)
;C.get(11)
;C.set(117,207)
;C.get(30)
;C.set(97,84)
;C.get(109)
;C.set(99,218)
;C.get(109)
;C.set(113,1)
;C.get(62)
;C.set(49,89)
;C.set(53,311)
;C.get(126)
;C.set(32,153)
;C.set(14,296)
;C.get(22)
;C.set(14,225)
;C.get(49)
;C.get(75)
;C.set(61,241)
;C.get(7)
;C.get(6)
;C.get(31)
;C.set(75,15)
;C.get(115)
;C.set(84,181)
;C.set(125,111)
;C.set(105,94)
;C.set(48,294)
;C.get(106)
;C.get(61)
;C.set(53,190)
;C.get(16)
;C.set(12,252)
;C.get(28)
;C.set(111,122)
;C.get(122)
;C.set(10,21)
;C.get(59)
;C.get(72)
;C.get(39)
;C.get(6)
;C.get(126)
;C.set(131,177)
;C.set(105,253)
;C.get(26)
;C.set(43,311)
;C.get(79)
;C.set(91,32)
;C.set(7,141)
;C.get(38)
;C.get(13)
;C.set(79,135)
;C.get(43)
;C.get(94)
;C.set(80,182)
;C.get(53)
;C.set(120,309)
;C.set(3,109)
;C.get(97)
;C.set(9,128)
;C.set(114,121)
;C.get(56)
;C.get(56)
;C.set(124,86)
;C.set(34,145)
;C.get(131)
;C.get(78)
;C.set(86,21)
;C.get(98)
;C.set(115,164)
;C.set(47,225)
;C.get(95)
;C.set(89,55)
;C.set(26,134)
;C.set(8,15)
;C.get(11)
;C.set(84,276)
;C.set(81,67)
;C.get(46)
;C.get(39)
;C.get(92)
;C.get(96)
;C.set(89,51)
;C.set(136,240)
;C.get(45)
;C.get(27)
;C.set(24,209)
;C.set(82,145)
;C.get(10)
;C.set(104,225)
;C.set(120,203)
;C.set(121,108)
;C.set(11,47)
;C.get(89)
;C.set(80,66)
;C.get(16)
;C.set(95,101)
;C.get(49)
;C.get(1)
;C.set(77,184)
;C.get(27)
;C.set(74,313)
;C.set(14,118)
;C.get(16)
;C.get(74)
;C.set(88,251)
;C.get(124)
;C.set(58,101)
;C.set(42,81)
;C.get(2)
;C.set(133,101)
;C.get(16)
;C.set(1,254)
;C.set(25,167)
;C.set(53,56)
;C.set(73,198)
;C.get(48)
;C.get(30)
;C.get(95)
;C.set(90,102)
;C.set(92,56)
;C.set(2,130)
;C.set(52,11)
;C.get(9)
;C.get(23)
;C.set(53,275)
;C.set(23,258)
;C.get(57)
;C.set(136,183)
;C.set(75,265)
;C.get(85)
;C.set(68,274)
;C.set(15,255)
;C.get(85)
;C.set(33,314)
;C.set(101,223)
;C.set(39,248)
;C.set(18,261)
;C.set(37,160)
;C.get(112)
;C.get(65)
;C.set(31,240)
;C.set(40,295)
;C.set(99,231)
;C.get(123)
;C.set(34,43)
;C.get(87)
;C.get(80)
;C.set(47,279)
;C.set(89,299)
;C.get(72)
;C.set(26,277)
;C.set(92,13)
;C.set(46,92)
;C.set(67,163)
;C.set(85,184)
;C.get(38)
;C.set(35,65)
;C.get(70)
;C.get(81)
;C.set(40,65)
;C.get(80)
;C.set(80,23)
;C.set(76,258)
;C.get(69)
;C.get(133)
;C.set(123,196)
;C.set(119,212)
;C.set(13,150)
;C.set(22,52)
;C.set(20,105)
;C.set(61,233)
;C.get(97)
;C.set(128,307)
;C.get(85)
;C.get(80)
;C.get(73)
;C.get(30)
;C.set(46,44)
;C.get(95)
;C.set(121,211)
;C.set(48,307)
;C.get(2)
;C.set(27,166)
;C.get(50)
;C.set(75,41)
;C.set(101,105)
;C.get(2)
;C.set(110,121)
;C.set(32,88)
;C.set(75,84)
;C.set(30,165)
;C.set(41,142)
;C.set(128,102)
;C.set(105,90)
;C.set(86,68)
;C.set(13,292)
;C.set(83,63)
;C.set(5,239)
;C.get(5)
;C.set(68,204)
;C.get(127)
;C.set(42,137)
;C.get(93)
;C.set(90,258)
;C.set(40,275)
;C.set(7,96)
;C.get(108)
;C.set(104,91)
;C.get(63)
;C.get(31)
;C.set(31,89)
;C.get(74)
;C.get(81)
;C.set(126,148)
;C.get(107)
;C.set(13,28)
;C.set(21,139)
;C.get(114)
;C.get(5)
;C.get(89)
;C.get(133)
;C.get(20)
;C.set(96,135)
;C.set(86,100)
;C.set(83,75)
;C.get(14)
;C.set(26,195)
;C.get(37)
;C.set(1,287)
;C.get(79)
;C.get(15)
;C.get(6)
;C.set(68,11)
;C.get(52)
;C.set(124,80)
;C.set(123,277)
;C.set(99,281)
;C.get(133)
;C.get(90)
;C.get(45)
;C.get(127)
;C.set(9,68)
;C.set(123,6)
;C.set(124,251)
;C.set(130,191)
;C.set(23,174)
;C.set(69,295)
;C.get(32)
;C.get(37)
;C.set(1,64)
;C.set(48,116)
;C.get(68)
;C.set(117,173)
;C.set(16,89)
;C.get(84)
;C.set(28,234)
;C.get(129)
;C.get(89)
;C.get(55)
;C.get(83)
;C.set(99,264)
;C.get(129)
;C.get(84)
;C.get(14)
;C.set(26,274)
;C.get(109)
;C.get(110)
;C.set(96,120)
;C.set(128,207)
;C.get(12)
;C.set(99,233)
;C.set(20,305)
;C.set(26,24)
;C.set(102,32)
;C.get(82)
;C.set(16,30)
;C.set(5,244)
;C.get(130)
;C.set(109,36)
;C.set(134,162)
;C.set(13,165)
;C.set(45,235)
;C.set(112,80)
;C.get(6)
;C.set(34,98)
;C.set(64,250)
;C.set(18,237)
;C.set(72,21)
;C.set(42,105)
;C.set(57,108)
;C.set(28,229)
;C.get(83)
;C.set(1,34)
;C.set(93,151)
;C.set(132,94)
;C.set(18,24)
;C.set(57,68)
;C.set(42,137)
;C.get(35)
;C.get(80)
;C.set(10,288)
;C.get(21)
;C.get(115)
;C.get(131)
;C.get(30)
;C.get(43)
;C.set(97,262)
;C.set(55,146)
;C.set(81,112)
;C.set(2,212)
;C.set(5,312)
;C.set(82,107)
;C.set(14,151)
;C.get(77)
;C.set(60,42)
;C.set(90,309)
;C.get(90)
;C.set(131,220)
;C.get(86)
;C.set(106,85)
;C.set(85,254)
;C.get(14)
;C.set(66,262)
;C.set(88,243)
;C.get(3)
;C.set(50,301)
;C.set(118,91)
;C.get(25)
;C.get(105)
;C.get(100)
;C.get(89)
;C.set(111,152)
;C.set(65,24)
;C.set(41,264)
;C.get(117)
;C.get(117)
;C.set(80,45)
;C.get(38)
;C.set(11,151)
;C.set(126,203)
;C.set(128,59)
;C.set(6,129)
;C.get(91)
;C.set(118,2)
;C.set(50,164)
;C.get(74)
;C.get(80)
;C.set(48,308)
;C.set(109,82)
;C.set(3,48)
;C.set(123,10)
;C.set(59,249)
;C.set(128,64)
;C.set(41,287)
;C.set(52,278)
;C.set(98,151)
;C.get(12)
;C.get(25)
;C.set(18,254)
;C.set(24,40)
;C.get(119)
;C.set(66,44)
;C.set(61,19)
;C.set(80,132)
;C.set(62,111)
;C.get(80)
;C.set(57,188)
;C.get(132)
;C.get(42)
;C.set(18,314)
;C.get(48)
;C.set(86,138)
;C.get(8)
;C.set(27,88)
;C.set(96,178)
;C.set(17,104)
;C.set(112,86)
;C.get(25)
;C.set(129,119)
;C.set(93,44)
;C.get(115)
;C.set(33,36)
;C.set(85,190)
;C.get(10)
;C.set(52,182)
;C.set(76,182)
;C.get(109)
;C.get(118)
;C.set(82,301)
;C.set(26,158)
;C.get(71)
;C.set(108,309)
;C.set(58,132)
;C.set(13,299)
;C.set(117,183)
;C.get(115)
;C.get(89)
;C.get(42)
;C.set(11,285)
;C.set(30,144)
;C.get(69)
;C.set(31,53)
;C.get(21)
;C.set(96,162)
;C.set(4,227)
;C.set(77,120)
;C.set(128,136)
;C.get(92)
;C.set(119,208)
;C.set(87,61)
;C.set(9,40)
;C.set(48,273)
;C.get(95)
;C.get(35)
;C.set(62,267)
;C.set(88,161)
;C.get(59)
;C.get(85)
;C.set(131,53)
;C.set(114,98)
;C.set(90,257)
;C.set(108,46)
;C.get(54)
;C.set(128,223)
;C.set(114,168)
;C.set(89,203)
;C.get(100)
;C.get(116)
;C.get(14)
;C.set(61,104)
;C.set(44,161)
;C.set(60,132)
;C.set(21,310)
;C.get(89)
;C.set(109,237)
;C.get(105)
;C.get(32)
;C.set(78,101)
;C.set(14,71)
;C.set(100,47)
;C.set(102,33)
;C.set(44,29)
;C.get(85)
;C.get(37)
;C.set(68,175)
;C.set(116,182)
;C.set(42,47)
;C.get(9)
;C.set(64,37)
;C.set(23,32)
;C.set(11,124)
;C.set(130,189)
;C.get(65)
;C.set(33,219)
;C.set(79,253)
;C.get(80)
;C.get(16)
;C.set(38,18)
;C.set(35,67)
;C.get(107)
;C.get(88)
;C.set(37,13)
;C.set(71,188)
;C.get(35)
;C.set(58,268)
;C.set(18,260)
;C.set(73,23)
;C.set(28,102)
;C.get(129)
;C.get(88)
;C.get(65)
;C.get(80)
;C.set(119,146)
;C.get(113)
;C.get(62)
;C.set(123,138)
;C.set(18,1)
;C.set(26,208)
;C.get(107)
;C.get(107)
;C.set(76,132)
;C.set(121,191)
;C.get(4)
;C.get(8)
;C.get(117)
;C.set(11,118)
;C.get(43)
;C.get(69)
;C.get(136)
;C.set(66,298)
;C.get(25)
;C.get(71)
;C.get(100)
;C.set(26,141)
;C.set(53,256)
;C.set(111,205)
;C.set(126,106)
;C.get(43)
;C.set(14,39)
;C.set(44,41)
;C.set(23,230)
;C.get(131)
;C.get(53)
;C.set(104,268)
;C.get(30)
;C.set(108,48)
;C.set(72,45)
;C.get(58)
;C.get(46)
;C.set(128,301)
;C.get(71)
;C.get(99)
;C.get(113)
;C.get(121)
;C.set(130,122)
;C.set(102,5)
;C.set(111,51)
;C.set(85,229)
;C.set(86,157)
;C.set(82,283)
;C.set(88,52)
;C.set(136,105)
;C.get(40)
;C.get(63)
;C.set(114,244)
;C.set(29,82)
;C.set(83,278)
;C.get(131)
;C.set(56,33)
;C.get(123)
;C.get(11)
;C.get(119)
;C.set(119,1)
;C.set(48,52)
;C.get(47)
;C.set(127,136)
;C.set(78,38)
;C.set(117,64)
;C.set(130,134)
;C.set(93,69)
;C.set(70,98)
;C.get(68)
;C.set(4,3)
;C.set(92,173)
;C.set(114,65)
;C.set(7,309)
;C.get(31)
;C.set(107,271)
;C.set(110,69)
;C.get(45)
;C.set(35,288)
;C.get(20)
;C.set(38,79)
;C.get(46)
;C.set(6,123)
;C.get(19)
;C.set(84,95)
;C.get(76)
;C.set(71,31)
;C.set(72,171)
;C.set(35,123)
;C.get(32)
;C.set(73,85)
;C.get(94)
;C.get(128)
;C.get(28)
;C.get(38)
;C.get(109)
;C.set(85,197)
;C.set(10,41)
;C.set(71,50)
;C.get(128)
;C.set(3,55)
;C.set(15,9)
;C.set(127,215)
;C.get(17)
;C.get(37)
;C.set(111,272)
;C.set(79,169)
;C.set(86,206)
;C.set(40,264)
;C.get(134)
;C.set(16,207)
;C.set(27,127)
;C.set(29,48)
;C.set(32,122)
;C.set(15,35)
;C.set(117,36)
;C.get(127)
;C.get(36)
;C.set(72,70)
;C.set(49,201)
;C.set(89,215)
;C.set(134,290)
;C.set(77,64)
;C.set(26,101)
;C.get(99)
;C.set(36,96)
;C.set(84,129)
;C.set(125,264)
;C.get(43)
;C.get(38)
;C.set(24,76)
;C.set(45,2)
;C.set(32,24)
;C.set(84,235)
;C.set(16,240)
;C.set(17,289)
;C.set(49,94)
;C.set(90,54)
;C.set(88,199)
;C.get(23)
;C.set(87,19)
;C.set(11,19)
;C.get(24)
;C.get(57)
;C.get(4)
;C.get(40)
;C.set(133,286)
;C.set(127,231)
;C.get(51)
;C.set(52,196)
;C.get(27)
;C.get(10)
;C.get(93)
;C.set(115,143)
;C.set(62,64)
;C.set(59,200)
;C.set(75,85)
;C.set(7,93)
;C.set(117,270)
;C.set(116,6)
;C.get(32)
;C.get(135)
;C.set(2,140)
;C.set(23,1)
;C.set(11,69)
;C.set(89,30)
;C.set(27,14)
;C.get(100)
;C.get(61)
;C.set(99,41)
;C.set(88,12)
;C.get(41)
;C.set(52,203)
;C.get(65)
;C.set(62,78)
;C.set(104,276)
;C.set(105,307)
;C.get(7)
;C.set(23,123)
;C.get(22)
;C.set(35,299)
;C.get(69)
;C.get(11)
;C.set(14,112)
;C.get(115)
;C.get(112)
;C.get(108)
;C.set(110,165)
;C.set(83,165)
;C.set(36,260)
;C.set(54,73)
;C.get(36)
;C.set(93,69)
;C.get(134)
;C.set(125,96)
;C.set(74,127)
;C.set(110,305)
;C.set(92,309)
;C.set(87,45)
;C.set(31,266)
;C.get(10)
;C.set(114,206)
;C.set(49,141)
;C.get(82)
;C.set(92,3)
;C.set(91,160)
;C.get(41)
;C.set(60,147)
;C.set(36,239)
;C.set(23,296)
;C.set(134,120)
;C.get(6)
;C.set(5,283)
;C.set(117,68)
;C.get(35)
;C.get(120)
;C.set(44,191)
;C.set(121,14)
;C.set(118,113)
;C.set(84,106)
;C.get(23)
;C.set(15,240)
;C.get(37)
;C.set(52,256)
;C.set(119,116)
;C.set(101,7)
;C.set(14,157)
;C.set(29,225)
;C.set(4,247)
;C.set(8,112)
;C.set(8,189)
;C.set(96,220)
;C.get(104)
;C.set(72,106)
;C.set(23,170)
;C.set(67,209)
;C.set(70,39)
;C.get(18)
;C.get(6)
;C.get(34)
;C.set(121,157)
;C.get(16)
;C.get(19)
;C.set(83,283)
;C.set(13,22)
;C.set(33,143)
;C.set(88,133)
;C.get(88)
;C.set(5,49)
;C.get(38)
;C.get(110)
;C.get(67)
;C.set(23,227)
;C.get(68)
;C.get(3)
;C.set(27,265)
;C.get(31)
;C.set(13,103)
;C.get(116)
;C.set(111,282)
;C.set(43,71)
;C.get(134)
;C.set(70,141)
;C.get(14)
;C.get(119)
;C.get(43)
;C.get(122)
;C.set(38,187)
;C.set(8,9)
;C.get(63)
;C.set(42,140)
;C.get(83)
;C.get(92)
;C.get(106)
;C.get(28)
;C.set(57,139)
;C.set(36,257)
;C.set(30,204)
;C.get(72)
;C.set(105,243)
;C.get(16)
;C.set(74,25)
;C.get(22)
;C.set(118,144)
;C.get(133)
;C.get(71)
;C.set(99,21)
;C.get(26)
;C.get(35)
;C.set(89,209)
;C.set(106,158)
;C.set(76,63)
;C.set(112,216)
;C.get(128)
;C.get(54)
;C.set(16,165)
;C.set(76,206)
;C.set(69,253)
;C.get(23)
;C.set(54,111)
;C.get(80)
;C.set(111,72)
;C.set(95,217)
;C.get(118)
;C.set(4,146)
;C.get(47)
;C.set(108,290)
;C.get(43)
;C.set(70,8)
;C.get(117)
;C.get(121)
;C.set(42,220)
;C.get(48)
;C.get(32)
;C.set(68,213)
;C.set(30,157)
;C.set(62,68)
;C.get(58)
;C.set(125,283)
;C.set(132,45)
;C.get(85)
;C.get(92)
;C.set(23,257)
;C.get(74)
;C.set(18,256)
;C.get(90)
;C.set(10,158)
;C.set(57,34)
;C.get(27)
;C.get(107);
return 0;
}
